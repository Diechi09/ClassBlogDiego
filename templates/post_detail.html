{% extends "base.html" %}
{% block content %}
  <article style="padding:1rem;border:1px solid #1f2937;border-radius:8px;background:#0b1224;">
    <h1 style="margin:.25rem 0;">{{ post.title }}</h1>
    <small>by {{ post.author.username }} â€¢ {{ post.date_posted.strftime('%b %d, %Y') }}</small>
    <p style="margin-top:1rem; white-space:pre-wrap;">{{ post.content }}</p>

    {% if current_user.is_authenticated and current_user.id == post.author.id %}
      <div style="margin-top:1rem; display:flex; gap:.5rem;">
        <a class="btn" href="{{ url_for('edit_post', post_id=post.id) }}">Edit</a>
        <form method="POST"
              action="{{ url_for('delete_post', post_id=post.id) }}"
              onsubmit="return confirm('Delete this post?');">
          <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
          <button class="btn" type="submit" style="background:#b91c1c;">Delete</button>
        </form>
      </div>
    {% endif %}
  </article>
{% endblock %}
